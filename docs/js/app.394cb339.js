(function(t){function e(e){for(var n,i,l=e[0],r=e[1],c=e[2],f=0,d=[];f<l.length;f++)i=l[f],s[i]&&d.push(s[i][0]),s[i]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,l=1;l<a.length;l++){var r=a[l];0!==s[r]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0e53":function(t,e,a){"use strict";var n=a("20f8"),s=a.n(n);s.a},"20f8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("section",{staticClass:"section hero"},[a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("fields",{attrs:{title:"Original","can-be-upload":"","can-be-clear":"",state:t.original.state,json:t.original.json},on:{state:function(e){t.original.state=e},input:function(e){t.original.json=e},filename:function(e){t.original.filename=e},clear:function(e){t.original.json=null}}})],1),a("div",{staticClass:"column"},[a("fields",{attrs:{title:"Result","can-be-reset":"","can-be-download":"",state:t.result.state,json:t.result.json,filename:t.original.filename},on:{reset:function(e){t.result.json=t.original.json,t.result.factor=0},state:function(e){t.result.state=e}}},[a("div",{attrs:{slot:"map"},slot:"map"},[a("div",{staticClass:"columns m-t-sm"},[a("div",{staticClass:"column is-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.result.factor,expression:"result.factor"}],staticClass:"slider is-fullwidth",attrs:{step:"0.001",min:"0",max:"3",type:"range"},domProps:{value:t.result.factor},on:{__r:function(e){t.$set(t.result,"factor",e.target.value)}}})]),a("div",{staticClass:"column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.result.factor,expression:"result.factor"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.result.factor},on:{input:function(e){e.target.composing||t.$set(t.result,"factor",e.target.value)}}})])])])])],1)])])]),t._m(1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("h1",{staticClass:"title"},[t._v("Vue and Geo Simplifier")]),a("h2",{staticClass:"subtitle"},[t._v("Upload your geojson geometry and simplify it")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"is-size-6"},[t._v("Vue and Geo Simplifier")]),a("div",{staticClass:"is-size-6"},[t._v("Upload your geojson geometry and simplify it")]),a("div",{staticClass:"tags p-t-md"},[a("a",{staticClass:"m-r-xs",attrs:{href:"https://github.com/PavelShar/vue-and-geo-simplifier",target:"_blank"}},[a("span",{staticClass:"tag is-dark"},[t._v("source")])]),a("a",{staticClass:"m-r-xs",attrs:{href:"https://leafletjs.com/",target:"_blank"}},[a("span",{staticClass:"tag"},[t._v("leafletjs")])]),a("a",{staticClass:"m-r-xs",attrs:{href:"http://bulma.io",target:"_blank"}},[a("span",{staticClass:"tag"},[t._v("bulma")])]),a("a",{staticClass:"m-r-xs",attrs:{href:"http://turfjs.org/",target:"_blank"}},[a("span",{staticClass:"tag"},[t._v("turf")])])]),a("div",{staticClass:"is-size-6"},[t._v("Made for fun by\n                        "),a("a",{attrs:{href:"https://github.com/PavelShar",target:"_blank"}},[t._v("Paul Sharypov")])])])])])])}],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"p-b-md is-size-5 has-text-weight-bold"},[t._v(t._s(t.title))]),a("div",{staticClass:"p-b-xss tabs is-toggle is-small"},[a("ul",[a("li",{class:{"is-active":"code"===t.state},on:{click:function(e){t.$emit("state","code")}}},[a("a",[t._v("Code")])]),a("li",{class:{"is-active":"map"===t.state},on:{click:function(e){t.$emit("state","map")}}},[a("a",[t._v("Map")])])])]),"code"===t.state?a("div",[a("textarea",{staticClass:"textarea",domProps:{value:t.json?JSON.stringify(t.json,null,4):null},on:{input:function(e){t.$emit("input",JSON.parse(e.target.value))}}}),t.canBeUpload?a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"files",attrs:{type:"file"},on:{change:t.addFiles}}):t._e(),a("div",{staticClass:"m-t-sm buttons has-addons"},[t.canBeUpload?a("span",{staticClass:"button",on:{click:function(e){e.preventDefault(),t.$refs.files.click()}}},[t._v("Upload")]):t._e(),t.canBeClear?a("span",{staticClass:"button",on:{click:function(e){t.$emit("clear")}}},[t._v("Clear")]):t._e(),t.canBeDownload?a("span",{staticClass:"button",on:{click:function(e){return e.preventDefault(),t.saveFile(e)}}},[t._v("Download")]):t._e(),t.canBeReset?a("span",{staticClass:"button",on:{click:function(e){t.$emit("reset")}}},[t._v("Reset")]):t._e()])]):t._e(),"map"===t.state?a("vgs-map",{attrs:{geojson:t.json}},[t._t("map")],2):t._e()],1)},l=[],r=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vgs__map"},[a("l-map",t._b({ref:"map"},"l-map",{center:t.center,zoom:t.zoom},!1),[t.geojson?a("l-geo-json",t._b({ref:"geojson"},"l-geo-json",{geojson:t.geojson},!1)):t._e()],1),t._t("default")],2)}),c=[],u=a("458e"),f={geojson:{type:Object,default:null}},d={props:f,components:{LMap:u["LMap"],LGeoJson:u["LGeoJson"]},data:function(){return{center:[0,0],zoom:0}},methods:{fitBounds:function(){var t=this.$refs.geojson||null;t&&t.mapObject._map.fitBounds(t.getBounds())}},mounted:function(){var t=this;this.$nextTick().then(function(){return t.$refs.map.mapObject.invalidateSize()}).then(function(){return t.fitBounds()})},watch:{geojson:{deep:!0,handler:function(){var t=this;this.$nextTick(function(){return t.fitBounds()})}}}},p=d,m=(a("7d4b"),a("2877")),v=Object(m["a"])(p,r,c,!1,null,"4d8401ae",null);v.options.__file="map.vue";var g=v.exports,h={state:{type:String,default:"code"},title:{type:String,default:null},canBeUpload:{type:Boolean,default:!1},canBeClear:{type:Boolean,default:!1},canBeDownload:{type:Boolean,default:!1},canBeReset:{type:Boolean,default:!1},json:{type:Object,default:null},filename:{type:String,default:null}},_={props:h,components:{VgsMap:g},methods:{addFiles:function(t){var e=this,a=t.target,n=new FileReader;n.onload=function(s){try{var o=JSON.parse(n.result);e.$emit("input",o),e.$emit("filename",a.files[0].name)}catch(t){console.log(t)}},n.readAsText(a.files[0])},saveFile:function(){var t=JSON.stringify(this.json,null,4),e=(this.filename?this.filename:"result")+"_simplified.json",a=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,e);else{var n=document.createElement("a"),s=URL.createObjectURL(a);n.href=s,n.download=e,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(s)},0)}}}},b=_,j=(a("0e53"),Object(m["a"])(b,i,l,!1,null,"8c53fb14",null));j.options.__file="forms.vue";var C=j.exports,y=a("b87d"),w={name:"root",components:{Fields:C},data:function(){return{original:{state:"code",json:null,filename:null},result:{state:"map",json:null,factor:0}}},methods:{simplify:function(){this.result.json=Object(y["a"])(this.original.json,{tolerance:this.result.factor})}},watch:{"original.json":{deep:!0,handler:function(t){this.result.json=t,this.result.factor=0}},"result.factor":{handler:function(){this.result.json&&this.simplify()}}}},O=w,x=Object(m["a"])(O,s,o,!1,null,null,null);x.options.__file="App.vue";var B=x.exports,S=a("2f62");n["a"].use(S["a"]);var k=new S["a"].Store({state:{},mutations:{},actions:{}});a("eb46"),a("a23f"),a("da75"),a("6cc5");delete u["L"].Icon.Default.prototype._getIconUrl,u["L"].Icon.Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),n["a"].config.productionTip=!1,new n["a"]({name:"vue-and-geo-simplifier",store:k,render:function(t){return t(B)}}).$mount("#app")},"6a93":function(t,e,a){},"7d4b":function(t,e,a){"use strict";var n=a("6a93"),s=a.n(n);s.a},da75:function(t,e,a){}});
//# sourceMappingURL=app.394cb339.js.map